# 屏幕录制功能使用说明

## 功能概述
在新建作业时，系统提供了屏幕录制功能，可以记录整个作业操作过程。

## 使用方法

### 1. 开始录制
- 在作业窗口的右上角，"高级设置"按钮旁边，您会看到一个**录制按钮**（摄像机图标）
- 点击蓝色的录制按钮开始录制
- 按钮会变成红色，并显示录制时间

### 2. 录制过程
- 录制开始后，系统会记录您的屏幕操作
- 录制时间会实时显示
- 您可以正常进行作业操作

### 3. 结束录制
有两种方式结束录制：
1. **手动结束**：点击红色的停止按钮
2. **自动结束**：当您提交作业时，系统会自动停止录制并保存视频

### 4. 视频保存位置
- 录制的视频会自动保存到用户数据目录下的 `videos` 文件夹
- 文件命名格式：`soonworker_年-月-日T时-分-秒.webm`
- 例如：`soonworker_2024-01-15T14-30-25.webm`

## 视频文件位置

### Windows系统
```
C:\Users\[用户名]\AppData\Roaming\SoonWorker\videos\
```

### macOS系统
```
~/Library/Application Support/SoonWorker/videos/
```

### Linux系统
```
~/.config/SoonWorker/videos/
```

## 注意事项

1. **权限要求**：首次使用时，系统可能会请求屏幕录制权限，请允许
2. **存储空间**：请确保有足够的磁盘空间存储录制的视频
3. **视频格式**：录制的视频为 WebM 格式，可使用常见的视频播放器播放
4. **性能影响**：录制过程可能会略微影响系统性能，建议在性能较好的设备上使用

## 技术实现

### 核心模块
1. **主进程模块** (`src/main/recorder.js`)
   - 处理屏幕捕获
   - 管理录制状态
   - 保存视频文件

2. **渲染进程组件** (`src/renderer/components/recorder/ScreenRecorder.vue`)
   - 提供录制UI界面
   - 控制录制开始/停止
   - 显示录制状态和时间

3. **集成位置** (`src/renderer/components/work.vue`)
   - 在作业窗口集成录制按钮
   - 提交作业时自动停止录制

## 故障排除

### 问题1：无法开始录制
- 检查是否授予了屏幕录制权限
- 重启应用程序后重试

### 问题2：视频无法播放
- 确保使用支持 WebM 格式的播放器
- 推荐使用 VLC、Chrome 浏览器等

### 问题3：找不到录制的视频
- 检查上述视频保存路径
- 确认录制是否成功完成（查看是否有成功提示）

## 更新日志
- 2024-01-15：初始版本，实现基本录制功能